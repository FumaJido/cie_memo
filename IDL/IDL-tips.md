# IDLの小ネタ集

## デバッグしたいとき
動作を止めたい部分でstopを入れる
```
stop
```
## 数値をプリントしたときにできる空白を消したい
以下のようにシンプルに数値をプリントしようとすると、数値の前に謎の空白ができる
```
num = 10d
print(num)
# IDL>     10.0000
```

この空白を消すには```format()```を使用するとよい
```
num = 10d
print(num, format = "(I2.0)")
```
```format()```の中身について、```(アルファベット)(数字).(数字)```の組み合わせになる。各箇所の役割は以下の通り。
- ```Iw.m```：整数
  - ```w```：表示幅
  - ```m```：最低m桁で表示
  - 例：```I5.5```（幅5・最低5桁=ゼロ埋め）
- ```Fw.d```：固定少数
  - ```w```は幅、```d```は小数点以下の桁数
  - 例：```Fw.d```（幅8・小数2）
- ```Ew.d```：指数表記
  - 例：```E12.3```（幅12・小数3、指数部付）
- ```Gw.d```：自動
  - 値の大きさに応じてF表示かE表示を自動選択
  - 例：```G12.5```
- ```Lw```：論理（true/false）
- ```Aw```：文字列

- ```nX```：n個の空白を入れる（例：```1x```で1スペース）

  
<details><summary>よく使う実例集</summary>

  1) 整数の幅・ゼロ埋め
```
PRINT, 42,      FORMAT='(I4)'     ; 幅4。→「  42」（右寄せ・先頭空白）
PRINT, 42,      FORMAT='(I4.4)'   ; 幅4・最低4桁。→「0042」（ゼロ埋め）
PRINT, -42,     FORMAT='(I4.4)'   ; 負号も含めて幅カウント
```


2) 実数の小数桁・丸め
```
PRINT, 12.3456, FORMAT='(F8.2)'   ; 幅8・小数2 →「   12.35」（四捨五入）
PRINT, 0.00012, FORMAT='(F8.6)'   ; 「0.000120」
PRINT, 123456., FORMAT='(F8.2)'   ; 幅に入らない →「********」
```
3) 指数表記（E）
```
PRINT, 12345.6, FORMAT='(E12.3)'  ; 例）「    1.235E+04」のように出る
PRINT, 0.00012, FORMAT='(E12.5)'  ; 「 1.20000E-04」等
```
4) 自動選択（G）
```
PRINT, 123.456, FORMAT='(G10.4)'  ; 普通の値→F形式っぽく
PRINT, 1.0D-8,  FORMAT='(G10.4)'  ; とても小さい→E形式に自動切替
```
5) 複数列の整形（反復と空白）
```
data = FINDGEN(6) + 0.123  ; [0.123, 1.123, ..., 5.123]
PRINT, data, FORMAT='(3F8.3)'      ; 1行に3列×2行で整形
; 例）   0.123   1.123   2.123
;       3.123   4.123   5.123
```
6) 区切りやラベルを入れる（リテラル文字列）
```
x = 3.14159 & y = 2.71828
PRINT, x, y, FORMAT='("x=",F7.3, ", y=",F7.3)'
; → x=  3.142, y=  2.718
```
7) 改行やスペースの制御
```
PRINT, 1.23, 4.56, FORMAT='(F6.2,1X,F6.2,/, "----",/ ,F6.2)'
; 1列目と2列目の間に1スペース、途中で改行、区切り線を入れて改行…など
```
8) 何度も同じ型を出す時（反復記法）
```
PRINT, FINDGEN(9), FORMAT='(9F6.1)'    ; 9個を1行で
PRINT, FINDGEN(9), FORMAT='(3(F6.1,1X))' ; (F6.1+スペース)の塊を3回繰返し
```

</details>
